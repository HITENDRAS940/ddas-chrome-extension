================================================================================
                DDAS - DATA DUPLICATION ALERT SYSTEM
                     Complete System Flow Documentation
                        Project Presentation Guide
================================================================================

Created by: Hitendra Singh & Dhruv Maheshwari
Date: November 9, 2025
Project Type: Chrome Extension + Spring Boot Backend + AWS Integration

================================================================================
                              PROJECT OVERVIEW
================================================================================

DDAS is a comprehensive file duplication detection system that automatically
monitors downloads and helps users identify and manage duplicate files. The
system combines a Chrome extension, Java Spring Boot backend, Python local
server, and AWS services for a complete solution.

Key Features:
â€¢ Automatic download monitoring
â€¢ Real-time duplicate detection using SHA-256 hashing
â€¢ User choice for duplicate file management (delete/keep)
â€¢ Secure authentication with OTP verification
â€¢ AWS S3 integration for scalable storage
â€¢ Local HTTP server for seamless browser integration

================================================================================
                           SYSTEM ARCHITECTURE
================================================================================

1. CHROME EXTENSION (Frontend)
   - Background service worker for download monitoring
   - Popup interface for user interaction
   - Local storage for temporary data and history
   - HTTP communication with local Python server

2. PYTHON LOCAL SERVER (Middleware)
   - Runs on localhost:5001
   - Bridges Chrome extension and Java backend
   - Handles file processing requests
   - Manages duplicate file deletion

3. JAVA SPRING BOOT BACKEND (Core API)
   - Runs on localhost:8080
   - Authentication and authorization
   - File processing and duplicate detection
   - Database management (PostgresSQL)
   - AWS S3 integration

4. AWS SERVICES (Cloud Infrastructure)
   - S3 for file hash storage
   - Potential for scaling and additional services

================================================================================
                         COMPLETE USER FLOW WALKTHROUGH
================================================================================

PHASE 1: USER REGISTRATION & AUTHENTICATION
================================================================================

Step 1: Initial Extension Installation
--------------------------------------
â€¢ User installs DDAS Chrome extension from Chrome Web Store
â€¢ Extension icon appears in browser toolbar
â€¢ Background service worker starts monitoring downloads automatically
â€¢ Extension shows "Please login first" when clicked initially

Step 2: User Registration Process
---------------------------------
â€¢ User clicks extension icon â†’ Auth screen appears
â€¢ User fills signup form:
  - Username (must be unique)
  - Email address (for verification)
  - Password (minimum 6 characters)
â€¢ Click "Sign Up" button

BACKEND PROCESSING (Signup):
Java AuthController.signup() â†’
  â”œâ”€ Validates input data (username, email, password)
  â”œâ”€ Checks if username/email already exists
  â”œâ”€ Hashes password using BCrypt
  â”œâ”€ Creates User entity with PENDING status
  â”œâ”€ Generates 6-digit OTP
  â”œâ”€ Stores OTP in database with expiration
  â”œâ”€ Sends verification email (simulated in development)
  â””â”€ Returns success response with OTP requirement

Step 3: Email Verification
--------------------------
â€¢ System displays OTP input screen
â€¢ User receives OTP via email (simulated: shown in logs)
â€¢ User enters 6-digit verification code
â€¢ Click "Verify & Login"

BACKEND PROCESSING (Verification):
AuthController.verifyEmail() â†’
  â”œâ”€ Validates OTP format and expiration
  â”œâ”€ Matches OTP with stored value
  â”œâ”€ Updates User status to ACTIVE
  â”œâ”€ Generates JWT authentication token
  â”œâ”€ Deletes used OTP from database
  â””â”€ Returns auth token and user info

Step 4: Successful Authentication
---------------------------------
â€¢ Extension stores JWT token in chrome.storage
â€¢ UI switches to main dashboard
â€¢ Shows welcome message with username
â€¢ Displays "Recent Activity" (initially empty)
â€¢ Extension is now ready to monitor downloads

PHASE 2: DOWNLOAD MONITORING & FILE PROCESSING
================================================================================

Step 5: Automatic Download Detection
------------------------------------
â€¢ User downloads any file in Chrome browser
â€¢ Chrome fires downloads API event
â€¢ Extension background worker detects download

BACKGROUND PROCESSING:
background_http.js chrome.downloads.onCreated listener â†’
  â”œâ”€ Captures download metadata (filename, path, URL)
  â”œâ”€ Generates unique storage key
  â”œâ”€ Stores pending download in chrome.storage.local
  â”œâ”€ Sets download completion listener
  â””â”€ Waits for download to finish

Step 6: User Consent Request
----------------------------
â€¢ Download completes successfully
â€¢ Extension popup shows notification badge
â€¢ User clicks extension icon
â€¢ "Pending Downloads" section appears with new file
â€¢ Shows file details: name, download time, size
â€¢ Presents two options:
  - "âœ“ Check File" (process for duplicates)
  - "âœ— Skip" (ignore this file)

Step 7A: User Chooses to SKIP File
-----------------------------------
â€¢ User clicks "Skip" button
â€¢ File marked as skipped in chrome.storage
â€¢ Added to Recent Activity with:
  - Icon: â­ï¸
  - Status: "File Skipped"
  - Message: "Processing skipped by user"
â€¢ File remains in Downloads folder untouched
â€¢ Pending item removed from UI

Step 7B: User Chooses to CHECK File
------------------------------------
â€¢ User clicks "Check File" button
â€¢ Processing animation begins with 4 steps:
  1. "âœ… File hash calculated"
  2. "ğŸ”— Connecting to server..."
  3. "ğŸ” Checking for duplicates..."
  4. "ğŸ“¤ Processing result..."

PROCESSING PIPELINE:

Chrome Extension (popup.js) â†’
  â”œâ”€ Shows processing UI with steps
  â”œâ”€ Calls processFileWithServer()
  â””â”€ Sends HTTP request to Python server

Python Server (server.py) â†’
  â”œâ”€ Receives file path and auth token
  â”œâ”€ Validates file exists and auth token
  â”œâ”€ Calculates SHA-256 hash of file
  â”œâ”€ Makes API call to Java backend
  â””â”€ Returns duplicate check result

Java Backend File Processing:
FileController.processFile() â†’
  â”œâ”€ Authenticates user via JWT
  â”œâ”€ Validates file upload
  â””â”€ Calls FileService.processFile()

FileService.processFile() â†’
  â”œâ”€ Generates SHA-256 hash via HashService
  â”œâ”€ Queries database for existing hash
  â”œâ”€ IF DUPLICATE FOUND:
  â”‚   â”œâ”€ Retrieves existing file metadata
  â”‚   â”œâ”€ Returns duplicate response with:
  â”‚   â”‚   - original filename
  â”‚   â”‚   - upload date
  â”‚   â”‚   - file hash
  â”‚   â””â”€ duplicate: true
  â””â”€ IF NO DUPLICATE:
      â”œâ”€ Uploads hash to AWS S3 via S3Service
      â”œâ”€ Saves file metadata to database
      â”œâ”€ Creates FileRecord entity
      â””â”€ Returns success response

PHASE 3: DUPLICATE DETECTION & USER CHOICE
================================================================================

Step 8A: NO DUPLICATE FOUND
----------------------------
â€¢ Processing completes successfully
â€¢ Extension shows success message
â€¢ Added to Recent Activity with:
  - Icon: âœ…
  - Status: "File Processed"
  - Message: "No duplicates found"
â€¢ File remains in Downloads folder
â€¢ User can continue using system normally

Step 8B: DUPLICATE DETECTED
----------------------------
â€¢ System finds matching file hash
â€¢ Processing step 3 completes with duplicate detection
â€¢ Extension shows duplicate choice dialog:

DUPLICATE DIALOG DISPLAY:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        âš ï¸ Duplicate File Detected    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ File: newdocument.pdf               â”‚
â”‚ Already exists as: document.pdf     â”‚
â”‚                                     â”‚
â”‚ What would you like to do with the  â”‚
â”‚ duplicate file in Downloads?        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ—‘ï¸ Delete from Downloads           â”‚
â”‚  ğŸ“ Keep in Downloads              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 9: User Duplicate Management Choice
-----------------------------------------

OPTION A - DELETE DUPLICATE:
â€¢ User clicks "ğŸ—‘ï¸ Delete from Downloads"
â€¢ Extension calls deleteDuplicateFile()
â€¢ Python server receives delete request
â€¢ Validates file path is in Downloads folder (security)
â€¢ Deletes physical file using os.remove()
â€¢ Returns success confirmation
â€¢ Extension updates Recent Activity:
  - Icon: ğŸ—‘ï¸
  - Status: "Duplicate Deleted"
  - Message: "Deleted from Downloads. Original: document.pdf"
  - Color: Green border

OPTION B - KEEP DUPLICATE:
â€¢ User clicks "ğŸ“ Keep in Downloads"
â€¢ No file system changes made
â€¢ Extension updates Recent Activity:
  - Icon: ğŸ“
  - Status: "Duplicate Kept"
  - Message: "Kept in Downloads. Original: document.pdf"
  - Color: Blue border

PHASE 4: HISTORY & ONGOING MONITORING
================================================================================

Step 10: Recent Activity Management
-----------------------------------
â€¢ All actions recorded in chrome.storage.local
â€¢ History limited to last 20 items
â€¢ Color-coded status cards:
  - Green: Success/Deleted duplicates
  - Blue: Kept duplicates
  - Gray: Skipped files
  - Red: Errors
â€¢ Timestamps show when actions occurred
â€¢ Clicking extension icon shows current status

Step 11: Continuous Monitoring
------------------------------
â€¢ Extension continues monitoring all downloads
â€¢ Each new download triggers the same flow
â€¢ User builds up processing history over time
â€¢ Can skip confidential files, process public files
â€¢ System learns user's file patterns

PHASE 5: ADDITIONAL FEATURES
================================================================================

Security Features:
â€¢ JWT-based authentication
â€¢ Password hashing with BCrypt
â€¢ OTP email verification
â€¢ Secure file path validation
â€¢ CORS protection for API endpoints

Data Management:
â€¢ SHA-256 hashing for reliable duplicate detection
â€¢ Database storage of file metadata (not content)
â€¢ AWS S3 integration for hash storage
â€¢ Local storage for extension state

Error Handling:
â€¢ Network failure recovery
â€¢ Server unavailability detection
â€¢ File permission error handling
â€¢ Invalid authentication management
â€¢ Graceful degradation when services unavailable

User Experience:
â€¢ Real-time processing feedback
â€¢ Clear visual indicators for all states
â€¢ Animated UI transitions
â€¢ Toast notifications for actions
â€¢ Comprehensive activity history

================================================================================
                              TECHNICAL STACK
================================================================================

FRONTEND:
â€¢ Chrome Extension Manifest V3
â€¢ JavaScript ES6+ with async/await
â€¢ Chrome APIs (downloads, storage, notifications)
â€¢ HTML5 + CSS3 for responsive UI
â€¢ Local storage for persistence

MIDDLEWARE:
â€¢ Python 3.x with Flask framework
â€¢ HTTP server on localhost:5001
â€¢ File system operations
â€¢ JSON API communication
â€¢ Error handling and logging

BACKEND:
â€¢ Java 17 with Spring Boot 3.x
â€¢ Spring Security with JWT authentication
â€¢ Spring Data JPA for database operations
â€¢ Maven for dependency management
â€¢ H2/MySQL database support

CLOUD SERVICES:
â€¢ AWS S3 for file hash storage
â€¢ AWS SDK for Java integration
â€¢ RESTful API design
â€¢ Scalable cloud architecture

SECURITY:
â€¢ BCrypt password hashing
â€¢ JWT token authentication
â€¢ OTP email verification
â€¢ Input validation and sanitization
â€¢ CORS configuration

================================================================================
                           PROJECT BENEFITS
================================================================================

For End Users:
â€¢ Prevents storage waste from duplicate files
â€¢ Automatic monitoring requires no manual effort
â€¢ Clear choices for file management
â€¢ Secure and private file processing
â€¢ Seamless browser integration

For Organizations:
â€¢ Reduces storage costs
â€¢ Improves file organization
â€¢ Prevents data redundancy
â€¢ Scalable cloud-based solution
â€¢ Audit trail for file activities

Technical Benefits:
â€¢ Microservices architecture
â€¢ Cloud-native design
â€¢ Modern technology stack
â€¢ Extensible and maintainable code
â€¢ Comprehensive error handling

================================================================================
                            FUTURE ENHANCEMENTS
================================================================================

Planned Features:
â€¢ Machine learning for smart duplicate detection
â€¢ Multi-cloud support (Google Drive, Dropbox)
â€¢ Team collaboration features
â€¢ Advanced file analytics
â€¢ Mobile app companion
â€¢ Batch file processing
â€¢ Content-based duplicate detection
â€¢ File preview capabilities
â€¢ Advanced search and filtering
â€¢ Export/import functionality

================================================================================
                              CONCLUSION
================================================================================

DDAS demonstrates a complete full-stack application combining:
â€¢ Modern web extension development
â€¢ Microservices architecture
â€¢ Cloud integration
â€¢ Secure authentication
â€¢ Real-time processing
â€¢ User-centric design

The project showcases proficiency in:
â€¢ JavaScript and Chrome Extension APIs
â€¢ Java Spring Boot development
â€¢ Python Flask integration
â€¢ AWS cloud services
â€¢ Database design and management
â€¢ RESTful API development
â€¢ Security best practices
â€¢ User experience design

This comprehensive system solves a real-world problem while demonstrating
advanced technical skills across multiple technologies and platforms.

================================================================================
                          END OF DOCUMENTATION
================================================================================
